



<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diccionario de Items</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .item {
            border: 1px solid #ddd;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .cover img {
            max-width: 150px;
            height: auto;
            border-radius: 5px;
        }
        .title {
            font-size: 1.2em;
            font-weight: bold;
        }
        .keywords, .status, .guide, .description {
            margin-top: 5px;
        }
        .pagination {
            margin-top: 20px;
            text-align: center;
        }
        .pagination button {
            padding: 10px;
            margin: 0 5px;
            cursor: pointer;
            border: 1px solid #ddd;
            background-color: #f0f0f0;
        }
        .pagination button:hover {
            background-color: #ddd;
        }
        .pagination button.active {
            background-color: #bbb;
        }
    </style>
</head>
<body>

<h1>Diccionario de Items</h1>

<div id="items-container"></div>

<div class="pagination" id="pagination"></div>

<script>
// Variables globales
let diccionario = {};
let itemsPorPagina = 2; // Para probar con menos items por página
let paginaActual = 1;

// Función para cargar el archivo catalogoRidi.json (asegurándonos de que sea JSON)
fetch('catalogoRidi.json') // Asegúrate de que el archivo tenga extensión .json
    .then(response => response.json()) // Usamos .json() para convertir el archivo a un objeto JS
    .then(data => {
        diccionario = data; // Aquí cargamos el objeto JSON en la variable diccionario

        // Mostrar los primeros items
        mostrarItems(paginaActual);
    })
    .catch(error => {
        alert("Error al cargar el archivo: " + error);
    });

// Función para mostrar los items
function mostrarItems(pagina) {
    const startIndex = (pagina - 1) * itemsPorPagina;
    const endIndex = pagina * itemsPorPagina;
    const items = Object.entries(diccionario).slice(startIndex, endIndex);

    const itemsContainer = document.getElementById("items-container");
    itemsContainer.innerHTML = "";

    items.forEach(([key, item]) => {
        const div = document.createElement("div");
        div.classList.add("item");

        div.innerHTML = `
            <div class="cover"><img src="${item.cover}" alt="${item.title}"></div>
            <div class="title"><strong>${item.title}</strong></div>
            <div class="keywords"><strong>Palabras clave:</strong> ${item.keywords}</div>
            <div class="status"><strong>Estado:</strong> ${item["completion status"]}</div>
            <div class="guide"><strong>Guía:</strong> ${item.guide}</div>
            <div class="description"><strong>Descripción:</strong> ${item.description}</div>
        `;

        itemsContainer.appendChild(div);
    });

    mostrarPaginacion();
}

// Función para mostrar los botones de paginación
function mostrarPaginacion() {
    const paginationContainer = document.getElementById("pagination");
    paginationContainer.innerHTML = "";

    const totalItems = Object.keys(diccionario).length;
    const totalPages = Math.ceil(totalItems / itemsPorPagina);

    // Botón de página anterior
    if (paginaActual > 1) {
        const prevButton = document.createElement("button");
        prevButton.innerText = "Anterior";
        prevButton.onclick = () => {
            paginaActual--;
            mostrarItems(paginaActual);
        };
        paginationContainer.appendChild(prevButton);
    }

    // Botones de las páginas
    for (let i = 1; i <= totalPages; i++) {
        const pageButton = document.createElement("button");
        pageButton.innerText = i;
        pageButton.classList.toggle("active", i === paginaActual);
        pageButton.onclick = () => {
            paginaActual = i;
            mostrarItems(paginaActual);
        };
        paginationContainer.appendChild(pageButton);
    }

    // Botón de página siguiente
    if (paginaActual < totalPages) {
        const nextButton = document.createElement("button");
        nextButton.innerText = "Siguiente";
        nextButton.onclick = () => {
            paginaActual++;
            mostrarItems(paginaActual);
        };
        paginationContainer.appendChild(nextButton);
    }
}
</script>

</body>
</html>
